---
fip: 46
title: Update Chain Plugin to increase get_table_rows timeout
status: Draft
type: Functionality
author: Eric Butz <eric@fioprotocol.io>
created: 2022-12-22
updated: 2022-12-22
---

# Abstract
This FIP proposes an update to FIO chain_plugin to increase the timeout placed on get_table_rows queries.

## Modified actions
None

## Modified getters
|End point|Description|
|---|---|
|get_table_rows|Max time default increase and setting moved to config file.|

# Motivation
Currently get_table_rows has a 100 ms max timeout which results in a limited number of results being returned for some secondary indexes. FIO paging on secondary indexes relies on first getting the full results, and then paging through the results as defined by limit and offset. If the full results are not returned in the initial query, then it is not possible to access some data from some FIO getters. 

The current timeout limits the number of returned results to 1000-2000 items.

# Specification
## Proposed update to the max timeout setting
TBD

## Proposed update to the chain config.ini settings
TBD

## Modified getters
### get_table_rows
Modified to include domain and returned multiplied fee.
#### End point: /get_table_rows
There will be no changes to the parameters for get_table_rows or other FIO getters.
#### Processing
* The update will result in greater processing time for get_table_rows queries thus resulting in more returned data in those cases where the number of records is greater than 1,000 - 2,000 records.
#### Exception handling
No change
#### Response
No change

# Rationale
This fix will solve the current issue where some FIO getter calls do not return all the needed records.

# Implementation
TBD

# Backwards Compatibility
None. Existing getter request and response bodies are unchanged.

# Future considerations
None

