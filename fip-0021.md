---
fip: 21
title: FIO Staking
status: Draft
type: Functionality
author: Pawel Mastalerz <pawel@dapix.io>
created: 2020-11-18
updated: 2020-02-02
---

# Abstract
This FIP proposes **FIO Staking**, an on-chain program which rewards users for participating in blockchain governance.

Fee distribution modifications:
|Recipient|Before FIP|After FIP|
|---|---|---|
|Block Producers|85%|60%|
|Staking Rewards Reserves|0%|25%|

Token supply modifications:
|Token group|Before FIP|After FIP|
|---|---|---|
|Staking Rewards Pool|0|25,000,000|
|FIO Address Giveaways|125,000,000|100,000,000|

**Total token supply increase/(decrease): 0**

Modified actions:
|Contract|Action|Endpoint|Description|
|---|---|---|---|

# Motivation
The FIO Protocol is subject to the network effect, meaning the more participants adopt it, the more useful it is to all.

To accelerate the adoption, on-chain incentives for integrators in the form of TPID rewards and New User Bounties, as well as for block producers in the form of rewards and reserves are built into the FIO Chain. Currently, there are no incentives for end-users. Yet early token holders add value to the network by voting for block producers and helping the network grow.

This FIP proposes an on-chain staking functionality, which awards user Staking Rewards for taking an active role in the FIO Protocol governance.

# Specification
## High-level
### Staking
User can stake any available amount in their account at any point in time. To stake, the account has to have voted or proxied tokens in their account within the preceding 30 days.

### Staking Reward Token
When user stakes FIO Tokens they "exchange" FIO Tokens for Staking Reward Tokens (SRTs) at then current Rate of Exchange (ROE). SRT is not an actual token and cannot be trasferred. It simply acts as a representation of future Staking Rewards and is attached to the account staking. The FIO tokens do not actually leave the user's account, but are instead "locked" and cannot be spent until unstaking.

### Staking Rewards Pool
Any time a fee is collected, 25% of the amount paid will be redirected towards Staking Rewards Pool. In addition, if that amount in a day is less than 20,000 FIO, new tokens will be minted to ensure that amount is at least 20,000 FIO.
* These extra Staking Rewards Reserves will be capped at 25M new tokens ever minted. Once that cap is reached Staking Rewards Reserves will no longer be minted and therefore there will not be a minimum daily amount of Staking Rewards.
* The Foundation will burn 25M FIO Tokens from Address Giveaway bucket to ensure total supply stays at 1B.

### Rate of Exchange
ROE is determined based on the following formula:
```
ROE = Staked Pool Tokens / Total SRTs
```
Staked Pool Tokens count is:
* incremented:
  * When users stake tokens
  * When 25% of the collected fees are deposited to Staking Rewards Pool
* decremented:
  * When users unstake tokens
  
SRT count is:
* incremented:
  * When users stake tokens
* decremented:
  * When users unstake tokens
  
Because staking and un-staking increments/decrements Staked Pool Tokens and SRTs at the then current ROE, only addition of fees to Staking Rewards Pool will increase the ROE.

In addition:
* ROE can only go up, so user is guaranteed at least their principal back.
* The sooner they stake the better the ROE.
* The more fees collected, the higher the ROE.
* Future ROE and therefore annualized return cannot be determined at the time of staking as it is dependent on future fees collected and tokens staked

### Unstaking
User can unstake any staked amount in their account at any point in time. When user unstakes their FIO Tokens, they will exchange SRTs into FIO Tokens at then current Rate of Exchange. Since the ROE is likely to be higher at time of unstake, they will receive more FIO Tokens than staked.

Since the user specifies FIO Tokens when unstaking, to determine the amount of SRTs that need to be converted, the following calculation is completed:
```
SRTs to unstake = Available SRTs * Unstaked Tokens/Total Tokens staked
```

The unstaked amount of FIO Tokens is locked in the account for a period of 7 days before it can be transferred or staked again.

### Rewards for TPID
When user unstakes FIO Tokens, the TPID attached to the unstake action receives 10% of the difference between tokens being unstaked and FIO Tokens received as a result of SRT to FIO Token conversion. If no TPID is provided, the 10% is redirected to Staking Rewards Pool.

# Rationale
There were several versions of staking [diuscussed and considered](https://fioprotocol.atlassian.net/wiki/spaces/WP/pages/34078744/FIO+Staking). The SRT approach was modeled after [EOSIO REX Implementation](https://github.com/EOSIO/eosio.contracts/issues/117). EOSIO requires a transfer of tokens and issues a transferable REX token. FIOâ€™s implementation does not have to require a transfer because:
* We do not have a requirement for the reward token to be transferable.
* We do have ability to lock tokens in account.

# Implementation
## Token burning
Foundation will burn 25,000,000 FIO Tokens from [FIO Address Giveaways](https://kb.fioprotocol.io/fio-token/token-distribution#tokens-minted-over-time) using retire action being implemented in [FIP-22](fip-0022.md).

# Backwards Compatibility
No impact on existing functionality.

# Future considerations
None

# Discussion link
https://fioprotocol.atlassian.net/wiki/spaces/WP/pages/34078744/FIO+Staking
